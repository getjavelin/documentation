"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2474],{9239:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/save-page-slack-e8e3df6852654cbd5fb11efaf438d66c.png"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(96540);const r={},a=i.createContext(r);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},37525:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/slack-page-dea4b2ea1cc64abfa5f98f3904cd545b.png"},67098:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/splunk-page-2590db1f623e1368607a45a795eb1a7e.png"},78e3:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/save-page-045bc9d7bbcbab2b639ff1b5e5fdd3c2.png"},87559:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/integration-page-e9e3e460aa3c27677ba56a9c4357b63e.png"},87565:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"javelin-admin/alerts/overview","title":"Alert Integration","description":"Slack Alert Integration","source":"@site/docs/javelin-admin/alerts/overview.md","sourceDirName":"javelin-admin/alerts","slug":"/javelin-admin/alerts/overview","permalink":"/javelin-admin/alerts/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/getjavelin/documentation/tree/main/docs/javelin-admin/alerts/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Threat Alerts","permalink":"/javelin-webapp/threat-alerts/overview"},"next":{"title":"Model Scan","permalink":"/javelin-core/model-scan"}}');var r=t(74848),a=t(28453);const o={},l="Alert Integration",s={},d=[{value:"Slack Alert Integration",id:"slack-alert-integration",level:2},{value:"1. <strong>Navigate to the Integrations Page</strong>",id:"1-navigate-to-the-integrations-page",level:4},{value:"2. <strong>Configure the Slack Integration</strong>",id:"2-configure-the-slack-integration",level:4},{value:"3. <strong>Enable Slack in Threat Alerts</strong>",id:"3-enable-slack-in-threat-alerts",level:4},{value:"Splunk Alert Integration",id:"splunk-alert-integration",level:2},{value:"1. <strong>Visit the Integrations Page:</strong>",id:"1-visit-the-integrations-page",level:4},{value:"2. <strong>Select the Splunk integration</strong>",id:"2-select-the-splunk-integration",level:4},{value:"3. <strong>Move to Threat-Alert Page:</strong>",id:"3-move-to-threat-alert-page",level:4},{value:"Advanced Configuration for Alert in Javelin",id:"advanced-configuration-for-alert-in-javelin",level:2},{value:"\ud83d\udee0\ufe0f Supported <code>trigger_condition</code> Fields",id:"\ufe0f-supported-trigger_condition-fields",level:3},{value:"How to Configure",id:"how-to-configure",level:3},{value:"1. Fetch Integration Details (GET Request)",id:"1-fetch-integration-details-get-request",level:4},{value:"2. Update Integration with Trigger Condition (PUT Request)",id:"2-update-integration-with-trigger-condition-put-request",level:4},{value:"Example Event Payload (Splunk)",id:"example-event-payload-splunk",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"alert-integration",children:"Alert Integration"})}),"\n",(0,r.jsx)(n.h2,{id:"slack-alert-integration",children:"Slack Alert Integration"}),"\n",(0,r.jsx)(n.p,{children:"To enable Slack alerting in Javelin, you'll need to configure a Slack webhook to allow Javelin to send messages to your Slack channel."}),"\n",(0,r.jsx)(n.admonition,{title:"Need help creating a Slack webhook?",type:"tip",children:(0,r.jsxs)(n.p,{children:["Refer to the ",(0,r.jsx)(n.a,{href:"/javelin-admin/alerts/slack/overview",children:"Slack Webhook Setup Guide"})," for step-by-step instructions."]})}),"\n",(0,r.jsxs)(n.h4,{id:"1-navigate-to-the-integrations-page",children:["1. ",(0,r.jsx)(n.strong,{children:"Navigate to the Integrations Page"})]}),"\n",(0,r.jsxs)(n.p,{children:["From the side navigation, select ",(0,r.jsx)(n.code,{children:"Integrations"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Integration Page Image",src:t(87559).A+"",width:"2866",height:"1390"})}),"\n",(0,r.jsxs)(n.h4,{id:"2-configure-the-slack-integration",children:["2. ",(0,r.jsx)(n.strong,{children:"Configure the Slack Integration"})]}),"\n",(0,r.jsx)(n.p,{children:"Click on the Slack integration card and provide the required details, such as the webhook URL."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Slack Config Page Image",src:t(37525).A+"",width:"2852",height:"1380"})}),"\n",(0,r.jsxs)(n.h4,{id:"3-enable-slack-in-threat-alerts",children:["3. ",(0,r.jsx)(n.strong,{children:"Enable Slack in Threat Alerts"})]}),"\n",(0,r.jsx)(n.p,{children:"To start receiving alerts in Slack:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to the ",(0,r.jsx)(n.code,{children:"Threat Alerts"})," page."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.code,{children:"Manage Notification"})," for your desired gateway."]}),"\n",(0,r.jsxs)(n.li,{children:["Enable ",(0,r.jsx)(n.code,{children:"Slack"})," to send alerts for that gateway."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Threat Alert Overview Image",src:t(9239).A+"",width:"2848",height:"1378"})}),"\n",(0,r.jsx)(n.h2,{id:"splunk-alert-integration",children:"Splunk Alert Integration"}),"\n",(0,r.jsx)(n.p,{children:"To enable Splunk alerting in Javelin, you must configure the HTTP Event Collector (HEC) in Splunk. You'll need the following:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Base URL of your HEC endpoint"}),"\n",(0,r.jsx)(n.li,{children:"Authentication token"}),"\n",(0,r.jsxs)(n.li,{children:["A payload including required fields like ",(0,r.jsx)(n.code,{children:"event"})," and ",(0,r.jsx)(n.code,{children:"sourcetype"})]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Need help setting up HEC in Splunk?",type:"tip",children:(0,r.jsxs)(n.p,{children:["Refer to the ",(0,r.jsx)(n.a,{href:"/javelin-admin/alerts/splunk/overview",children:"Splunk HEC Setup Guide"})," for detailed instructions."]})}),"\n",(0,r.jsxs)(n.h4,{id:"1-visit-the-integrations-page",children:["1. ",(0,r.jsx)(n.strong,{children:"Visit the Integrations Page:"})]}),"\n",(0,r.jsxs)(n.p,{children:["In the left-hand navigation panel, click on ",(0,r.jsx)(n.code,{children:"Integrations"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Integration Page Image",src:t(87559).A+"",width:"2866",height:"1390"})}),"\n",(0,r.jsxs)(n.h4,{id:"2-select-the-splunk-integration",children:["2. ",(0,r.jsx)(n.strong,{children:"Select the Splunk integration"})]}),"\n",(0,r.jsx)(n.p,{children:"Click on the Splunk integration card and complete the required fields: Endpoint, Token, Event, and Sourcetype."}),"\n",(0,r.jsxs)(n.p,{children:["The Event field can be set to any descriptive value, such as ",(0,r.jsx)(n.code,{children:"Javelin Trigger"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Ensure that the sourcetype value matches the one configured in your Splunk HEC setup."})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Splunk Config Page Image",src:t(67098).A+"",width:"2856",height:"1380"})}),"\n",(0,r.jsxs)(n.h4,{id:"3-move-to-threat-alert-page",children:["3. ",(0,r.jsx)(n.strong,{children:"Move to Threat-Alert Page:"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to the ",(0,r.jsx)(n.code,{children:"Threat Alerts"})," section."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.code,{children:"Manage Notification"})," for your chosen gateway"]}),"\n",(0,r.jsxs)(n.li,{children:["Enable ",(0,r.jsx)(n.code,{children:"Splunk"})," as the alert destination."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Threat Alert Overview Image",src:t(78e3).A+"",width:"2880",height:"1392"})}),"\n",(0,r.jsx)(n.h2,{id:"advanced-configuration-for-alert-in-javelin",children:"Advanced Configuration for Alert in Javelin"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"This feature is currently not supported on the web application. Please use the API directly to access this functionality."})}),"\n",(0,r.jsxs)(n.p,{children:["By default, alerts in Javelin are generated per gateway. However, for more granular control over when alerts should be triggered, Javelin also supports advanced configurations via the ",(0,r.jsx)(n.code,{children:"trigger_condition"})," field in the alert integration configuration."]}),"\n",(0,r.jsxs)(n.h3,{id:"\ufe0f-supported-trigger_condition-fields",children:["\ud83d\udee0\ufe0f Supported ",(0,r.jsx)(n.code,{children:"trigger_condition"})," Fields"]}),"\n",(0,r.jsx)(n.p,{children:"The following fields are supported for fine-tuned alerting:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"threats"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsxs)(n.td,{children:["Specify one or more threat types (e.g., ",(0,r.jsx)(n.code,{children:'["prompt_injection_detected", "jailbreak_detected"]'}),") to trigger alerts only for those threats."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"route_names"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Specify one or more route names to restrict alerting to specific routes."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"gateway_ids"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Specify one or more gateway IDs. This is the default behavior in the UI."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"application_ids"})}),(0,r.jsx)(n.td,{children:"array"}),(0,r.jsx)(n.td,{children:"Specify one or more application IDs to limit alerts to specific applications."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.a,{href:"/javelin-admin/threats/overview",children:"here"})," to view the full list of supported threat types that can be used in the ",(0,r.jsx)(n.code,{children:"trigger_condition.threats"})," array."]}),"\n",(0,r.jsx)(n.h3,{id:"how-to-configure",children:"How to Configure"}),"\n",(0,r.jsxs)(n.p,{children:["To apply trigger_condition filters, you must perform the following operation, passing the desired ",(0,r.jsx)(n.code,{children:"trigger_condition"})," in request body."]}),"\n",(0,r.jsx)(n.h4,{id:"1-fetch-integration-details-get-request",children:"1. Fetch Integration Details (GET Request)"}),"\n",(0,r.jsxs)(n.p,{children:["Retrieve the integration configuration for which you want to add a trigger specification. Note the ",(0,r.jsx)(n.code,{children:"alert-id"})," from the response."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"curl --location '<your_domain_url>/v1/admin/integrations/config' \\\n--header 'x-javelin-apikey: <your-javelin-api-key>'\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-update-integration-with-trigger-condition-put-request",children:"2. Update Integration with Trigger Condition (PUT Request)"}),"\n",(0,r.jsxs)(n.p,{children:["Use the ",(0,r.jsx)(n.code,{children:"alert-id"})," obtained from the GET call and the full existing JSON configuration. Add or modify the ",(0,r.jsx)(n.code,{children:"trigger_condition"})," field as needed."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Ensure you copy the full existing config and only append the ",(0,r.jsx)(n.code,{children:"trigger_condition"})," block as required."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'curl --location --request PUT \'<your_domain_url>/v1/admin/integrations/config/<alert-id>\' \\\n--header \'x-javelin-apikey: <your-javelin-api-key>\' \\\n--header \'Content-Type: application/json\' \\\n--data \'{\n    ...your_existing_config,\n   "trigger_condition": {\n    "threats": ["prompt_injection_detected", "jailbreak_detected"],\n    "route_names": ["openai_gpt4_chat", "anthropic_claude"],\n    "gateway_ids": ["gwy1"],\n    "application_ids": ["app_xyz"]\n  }\n}\'\n\n'})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsx)(n.mdxAdmonitionTitle,{}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["All fields in ",(0,r.jsx)(n.code,{children:"trigger_condition"})," are optional and can be used independently or in combination."]}),"\n"]})]}),"\n",(0,r.jsx)(n.h3,{id:"example-event-payload-splunk",children:"Example Event Payload (Splunk)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "Account ID": "<your-account-id>",\n    "Gateway ID": "<your-gateway-id>",\n    "Severity": "<your-severity>",\n    "Route Name": "<your-route-name>",\n    "Application ID": "<your-app-id>",\n    "Threat ID": "<your-threat-id>",\n    "Alert ID": "<your-alert-id>",\n    "Detected Threats": [\n        "Sensitive Data: Yes",\n        "Restricted Keywords: Yes",\n        "Regex Matches: [^.h.$]",\n        "Data Blocked: Yes",\n        "Sensitive Data Masked: Yes",\n        "Prompt Injection: Yes",\n        "Entropy Score: 0.93"\n    ],\n    "event": "<your-event-name>",\n    "sourcetype": "<your-sourcetype>"\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);