"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9061],{81387:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var o=n(74848),r=n(15680);const i={},s="Usage",a={id:"javelin-processors/promptinjectionusage",title:"Usage",description:"To configure Javelin's Prompt Injection Processor, you need to define actions to be taken upon detection of prompts or jailbreaks. By customizing these settings, you can tailor the processor to your application's specific requirements and threat landscape.",source:"@site/docs/javelin-processors/promptinjectionusage.md",sourceDirName:"javelin-processors",slug:"/javelin-processors/promptinjectionusage",permalink:"/docs/javelin-processors/promptinjectionusage",draft:!1,unlisted:!1,editUrl:"https://github.com/getjavelin/documentation/tree/main/docs/javelin-processors/promptinjectionusage.md",tags:[],version:"current",frontMatter:{},sidebar:"someSidebar",previous:{title:"Overview",permalink:"/docs/javelin-processors/promptinjection"},next:{title:"Data Protection",permalink:"/docs/javelin-processors/privacyredaction"}},c={},l=[{value:"Configuration Options",id:"configuration-options",level:2},{value:"Settings",id:"settings",level:3},{value:"Processor Telemetry",id:"processor-telemetry",level:3}];function p(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.RP)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.p,{children:"To configure Javelin's Prompt Injection Processor, you need to define actions to be taken upon detection of prompts or jailbreaks. By customizing these settings, you can tailor the processor to your application's specific requirements and threat landscape."}),"\n",(0,o.jsx)(t.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,o.jsxs)(t.p,{children:["Prompt Injection + Jailbreak Detection can be enabled by using Javelin's PromptInjection detection processor. Make sure to add the ",(0,o.jsx)(t.code,{children:"lakera_processor"})," in the Javelin Request Chain  under Processors (Gateway level). You can also enable the processor at the Route level under the Route configuration.\nNote: Prompt+Jailbreak detection is enabled by default at the Gateway level."]}),"\n",(0,o.jsx)(t.h3,{id:"settings",children:"Settings"}),"\n",(0,o.jsx)(t.p,{children:"The Prompt Injection processor will log the attempt or reject the request based on whether the input is flagged as a potential prompt injection or jailbreak. You can customize these settings based on your application's security requirements. You can configure the processor to block the request if a prompt injection or jailbreak attempt is detected by customizing the processor json as shown below."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n    "name": "Prompt Injection Detection",\n    "reference": "lakera",\n    "will_block": true,\n    "scope": "system",\n    "guard" : {\n        "action":"reject"\n    }\n}\n'})}),"\n",(0,o.jsxs)(t.p,{children:["Setting the ",(0,o.jsx)(t.code,{children:"action"})," to ",(0,o.jsx)(t.code,{children:"reject"})," will reject the request with a 403 Forbidden if a prompt injection or jailbreak attempt is detected. Alternatively, you can leave out the ",(0,o.jsx)(t.code,{children:"guard"})," section to log the attempt without blocking the request."]}),"\n",(0,o.jsx)(t.h3,{id:"processor-telemetry",children:"Processor Telemetry"}),"\n",(0,o.jsx)(t.p,{children:"Whenever a prompt injection or jailbreak attempt is detected, the processor logs the details, including the input text, the detection result, and the action taken. This telemetry data can be used for monitoring and analysis to enhance security measures."}),"\n",(0,o.jsxs)(t.p,{children:["Processor telemetry is always enabled by default and it is passed back to the calling client application under a ",(0,o.jsx)(t.code,{children:'"javelin"'})," json object in the response. For example, you will see a response similar to the following:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'"request.chain.lakera_processor_20240916043857.268666981": {\n    "categories": {\n        "jailbreak": false,\n        "prompt_injection": true\n    },\n    "category_scores": {\n        "jailbreak": 0,\n        "prompt_injection": 0.68\n    },\n}"\n'})}),"\n",(0,o.jsx)(t.p,{children:"This telemetry is also available in the Javelin Chronicle for detailed analysis and tracking of prompt injection attempts. You can browse to the Route configuration section of the Javelin WebApp to view the telemetry data for each request."})]})}function u(e={}){const{wrapper:t}={...(0,r.RP)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},15680:(e,t,n)=>{n.d(t,{RP:()=>l});var o=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=o.createContext({}),l=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=l(n),h=r,m=d["".concat(c,".").concat(h)]||d[h]||p[h]||i;return n?o.createElement(m,s(s({ref:t},u),{},{components:n})):o.createElement(m,s({ref:t},u))}));u.displayName="MDXCreateElement"}}]);